<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="687px" preserveAspectRatio="none" style="width:1332px;height:687px;" version="1.1" viewBox="0 0 1332 687" width="1332px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ki0ydbjlec4k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster rasterio--><polygon fill="#FFFFFF" filter="url(#f1ki0ydbjlec4k)" points="30.1513,287,91.1513,287,98.1513,310.6094,124.151,310.6094,124.151,387,30.1513,387,30.1513,287" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="30.1513" x2="98.1513" y1="310.6094" y2="310.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="34.1513" y="303.5332">rasterio</text><!--cluster datacube.drivers--><polygon fill="#FFFFFF" filter="url(#f1ki0ydbjlec4k)" points="154.151,24,280.151,24,287.151,47.6094,755.151,47.6094,755.151,249,154.151,249,154.151,24" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="154.151" x2="287.151" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="158.151" y="40.5332">datacube.drivers</text><!--cluster datacube.drivers.s3--><polygon fill="#FFFFFF" filter="url(#f1ki0ydbjlec4k)" points="148.151,273,294.151,273,301.151,296.6094,705.151,296.6094,705.151,675,148.151,675,148.151,273" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="148.151" x2="301.151" y1="296.6094" y2="296.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="140" x="152.151" y="289.5332">datacube.drivers.s3</text><!--cluster datacube.drivers.netcdf--><polygon fill="#FFFFFF" filter="url(#f1ki0ydbjlec4k)" points="890.151,561,1065.151,561,1072.151,584.6094,1075.15,584.6094,1075.15,661,890.151,661,890.151,561" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="890.151" x2="1072.151" y1="584.6094" y2="584.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="169" x="894.151" y="577.5332">datacube.drivers.netcdf</text><!--cluster datacube.storage.storage--><polygon fill="#FFFFFF" filter="url(#f1ki0ydbjlec4k)" points="779.151,45,966.151,45,973.151,68.6094,1310.15,68.6094,1310.15,537,779.151,537,779.151,45" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="779.151" x2="973.151" y1="68.6094" y2="68.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="181" x="783.151" y="61.5332">datacube.storage.storage</text><!--class rasterio.Band--><rect fill="#FEFECE" filter="url(#f1ki0ydbjlec4k)" height="48" id="rasterio.Band" style="stroke: #A80036; stroke-width: 1.5;" width="61" x="46.6513" y="323"/><ellipse cx="61.6513" cy="339" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M62.6044,335.6406 L62.6044,342.2969 L64.3232,342.2969 Q64.9325,342.2969 65.1982,342.5313 Q65.4638,342.7656 65.4638,343.1563 Q65.4638,343.5313 65.1982,343.7656 Q64.9325,344 64.3232,344 L59.1826,344 Q58.5732,344 58.3076,343.7656 Q58.0419,343.5313 58.0419,343.1406 Q58.0419,342.7656 58.3076,342.5313 Q58.5732,342.2969 59.1826,342.2969 L60.9013,342.2969 L60.9013,335.6406 L59.1826,335.6406 Q58.5732,335.6406 58.3076,335.4063 Q58.0419,335.1719 58.0419,334.7813 Q58.0419,334.4063 58.3076,334.1719 Q58.5732,333.9375 59.1826,333.9375 L64.3232,333.9375 Q64.9325,333.9375 65.1982,334.1719 Q65.4638,334.4063 65.4638,334.7813 Q65.4638,335.1719 65.1982,335.4063 Q64.9325,335.6406 64.3232,335.6406 L62.6044,335.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="29" x="75.6513" y="343.9102">Band</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="47.6513" x2="106.6513" y1="355" y2="355"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="47.6513" x2="106.6513" y1="363" y2="363"/><!--class DataSource--><rect fill="#98FB98" filter="url(#f1ki0ydbjlec4k)" height="103.3438" id="DataSource" style="stroke: #A80036; stroke-width: 1.5;" width="373" x="365.651" y="95"/><rect fill="#98FB98" height="32" style="stroke: #A80036; stroke-width: 1.5;" width="373" x="365.651" y="95"/><ellipse cx="515.401" cy="111" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M517.5885,112.7656 L513.4479,112.7656 L513.026,113.7969 L513.4479,113.7969 Q514.0573,113.7969 514.3229,114.0313 Q514.5885,114.2656 514.5885,114.6563 Q514.5885,115.0313 514.3229,115.2656 Q514.0573,115.5 513.4479,115.5 L511.151,115.5 Q510.5416,115.5 510.2838,115.2656 Q510.026,115.0313 510.026,114.6406 Q510.026,114.2656 510.2994,114.0234 Q510.5729,113.7813 511.1979,113.7969 L513.8698,107.1406 L512.7604,107.1406 Q512.151,107.1406 511.8854,106.9063 Q511.6198,106.6719 511.6198,106.2813 Q511.6198,105.9063 511.8854,105.6719 Q512.151,105.4375 512.7604,105.4375 L516.4323,105.4375 L519.8229,113.7969 Q520.4166,113.7969 520.6041,113.9375 Q520.9948,114.2031 520.9948,114.6563 Q520.9948,115.0313 520.7369,115.2656 Q520.4791,115.5 519.8698,115.5 L517.5729,115.5 Q516.9635,115.5 516.6979,115.2656 Q516.4323,115.0313 516.4323,114.6406 Q516.4323,114.2656 516.6979,114.0313 Q516.9635,113.7969 517.5729,113.7969 L517.9948,113.7969 L517.5885,112.7656 Z M516.8698,111.0625 L515.5104,107.6875 L514.1354,111.0625 L516.8698,111.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="535.901" y="115.9102">DataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="366.651" x2="737.651" y1="127" y2="127"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="361" x="371.651" y="142.4189">Responsible for reading data for a single measurement for a single Dataset</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="366.651" x2="737.651" y1="148.8359" y2="148.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="371.651" y="164.2549">@contextmanager open()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="371.651" y="178.0908">get_transform()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="371.651" y="191.9268">get_bandnumber()</text><!--class Driver--><rect fill="#FFEBCD" filter="url(#f1ki0ydbjlec4k)" height="172.5234" id="Driver" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="170.151" y="60"/><rect fill="#FFEBCD" height="32" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="170.151" y="60"/><ellipse cx="229.401" cy="76" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M231.5885,77.7656 L227.4479,77.7656 L227.026,78.7969 L227.4479,78.7969 Q228.0573,78.7969 228.3229,79.0313 Q228.5885,79.2656 228.5885,79.6563 Q228.5885,80.0313 228.3229,80.2656 Q228.0573,80.5 227.4479,80.5 L225.151,80.5 Q224.5416,80.5 224.2838,80.2656 Q224.026,80.0313 224.026,79.6406 Q224.026,79.2656 224.2994,79.0234 Q224.5729,78.7813 225.1979,78.7969 L227.8698,72.1406 L226.7604,72.1406 Q226.151,72.1406 225.8854,71.9063 Q225.6198,71.6719 225.6198,71.2813 Q225.6198,70.9063 225.8854,70.6719 Q226.151,70.4375 226.7604,70.4375 L230.4323,70.4375 L233.8229,78.7969 Q234.4166,78.7969 234.6041,78.9375 Q234.9948,79.2031 234.9948,79.6563 Q234.9948,80.0313 234.7369,80.2656 Q234.4791,80.5 233.8698,80.5 L231.5729,80.5 Q230.9635,80.5 230.6979,80.2656 Q230.4323,80.0313 230.4323,79.6406 Q230.4323,79.2656 230.6979,79.0313 Q230.9635,78.7969 231.5729,78.7969 L231.9948,78.7969 L231.5885,77.7656 Z M230.8698,76.0625 L229.5104,72.6875 L228.1354,76.0625 L230.8698,76.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="33" x="249.901" y="80.9102">Driver</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="171.151" x2="329.151" y1="92" y2="92"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="26" x="176.151" y="107.4189">name</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="31" x="176.151" y="121.2549">format</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="176.151" y="135.0908">uri_scheme</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="26" x="176.151" y="148.9268">index</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="205.151" y="148.9268">Needs to be removed</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="171.151" x2="329.151" y1="155.3438" y2="155.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="176.151" y="170.7627">requirements_satisfied()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="176.151" y="184.5986">write_dataset_to_storage()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="176.151" y="198.4346">as_uri()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="176.151" y="212.2705">_init_index()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="176.151" y="226.1064">get_datasource()</text><!--class S3Source--><rect fill="#FEFECE" filter="url(#f1ki0ydbjlec4k)" height="75.6719" id="S3Source" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="495.651" y="445"/><ellipse cx="560.901" cy="461" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M563.6666,456.875 Q563.8229,456.6563 564.0104,456.5469 Q564.1979,456.4375 564.4166,456.4375 Q564.7916,456.4375 565.026,456.6953 Q565.2604,456.9531 565.2604,457.5625 L565.2604,459.0156 Q565.2604,459.625 565.026,459.8906 Q564.7916,460.1563 564.4166,460.1563 Q564.0729,460.1563 563.8698,459.9531 Q563.6666,459.7656 563.5573,459.25 Q563.5104,458.8906 563.3229,458.7031 Q562.9948,458.3281 562.3854,458.1094 Q561.776,457.8906 561.151,457.8906 Q560.3854,457.8906 559.7526,458.2188 Q559.1198,458.5469 558.6276,459.2969 Q558.1354,460.0469 558.1354,461.0781 L558.1354,462.1719 Q558.1354,463.4063 559.026,464.2266 Q559.9166,465.0469 561.5104,465.0469 Q562.4479,465.0469 563.1041,464.7969 Q563.4948,464.6406 563.9166,464.2031 Q564.1823,463.9375 564.3307,463.8594 Q564.4791,463.7813 564.6823,463.7813 Q565.0104,463.7813 565.2682,464.0391 Q565.526,464.2969 565.526,464.6406 Q565.526,464.9844 565.1823,465.3906 Q564.6823,465.9688 563.8854,466.2969 Q562.8073,466.75 561.5104,466.75 Q559.9948,466.75 558.7916,466.125 Q557.8073,465.625 557.1198,464.5547 Q556.4323,463.4844 556.4323,462.2031 L556.4323,461.0469 Q556.4323,459.7188 557.0494,458.5703 Q557.6666,457.4219 558.7604,456.8047 Q559.8541,456.1875 561.0885,456.1875 Q561.8229,456.1875 562.4713,456.3516 Q563.1198,456.5156 563.6666,456.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="54" x="581.401" y="465.9102">S3Source</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="496.651" x2="687.651" y1="477" y2="477"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="501.651" y="492.4189">Similar API to rasterio.Band</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="496.651" x2="687.651" y1="498.8359" y2="498.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="181" x="501.651" y="514.2549">read(indexes, window, write_shape)</text><!--class S3DS--><rect fill="#FEFECE" filter="url(#f1ki0ydbjlec4k)" height="75.6719" id="S3DS" style="stroke: #A80036; stroke-width: 1.5;" width="183" x="500.651" y="583"/><ellipse cx="571.901" cy="599" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M574.6666,594.875 Q574.8229,594.6563 575.0104,594.5469 Q575.1979,594.4375 575.4166,594.4375 Q575.7916,594.4375 576.026,594.6953 Q576.2604,594.9531 576.2604,595.5625 L576.2604,597.0156 Q576.2604,597.625 576.026,597.8906 Q575.7916,598.1563 575.4166,598.1563 Q575.0729,598.1563 574.8698,597.9531 Q574.6666,597.7656 574.5573,597.25 Q574.5104,596.8906 574.3229,596.7031 Q573.9948,596.3281 573.3854,596.1094 Q572.776,595.8906 572.151,595.8906 Q571.3854,595.8906 570.7526,596.2188 Q570.1198,596.5469 569.6276,597.2969 Q569.1354,598.0469 569.1354,599.0781 L569.1354,600.1719 Q569.1354,601.4063 570.026,602.2266 Q570.9166,603.0469 572.5104,603.0469 Q573.4479,603.0469 574.1041,602.7969 Q574.4948,602.6406 574.9166,602.2031 Q575.1823,601.9375 575.3307,601.8594 Q575.4791,601.7813 575.6823,601.7813 Q576.0104,601.7813 576.2682,602.0391 Q576.526,602.2969 576.526,602.6406 Q576.526,602.9844 576.1823,603.3906 Q575.6823,603.9688 574.8854,604.2969 Q573.8073,604.75 572.5104,604.75 Q570.9948,604.75 569.7916,604.125 Q568.8073,603.625 568.1198,602.5547 Q567.4323,601.4844 567.4323,600.2031 L567.4323,599.0469 Q567.4323,597.7188 568.0494,596.5703 Q568.6666,595.4219 569.7604,594.8047 Q570.8541,594.1875 572.0885,594.1875 Q572.8229,594.1875 573.4713,594.3516 Q574.1198,594.5156 574.6666,594.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="592.401" y="603.9102">S3DS</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="501.651" x2="682.651" y1="615" y2="615"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="501.651" x2="682.651" y1="623" y2="623"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="506.651" y="638.4189">__init__(parent)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="506.651" y="652.2549">read(indexes, window, out_shape)</text><!--class S3DataSource--><rect fill="#98FB98" filter="url(#f1ki0ydbjlec4k)" height="75.6719" id="S3DataSource" style="stroke: #A80036; stroke-width: 1.5;" width="269" x="418.651" y="309"/><rect fill="#98FB98" height="32" style="stroke: #A80036; stroke-width: 1.5;" width="269" x="418.651" y="309"/><ellipse cx="508.901" cy="325" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M511.6666,320.875 Q511.8229,320.6563 512.0104,320.5469 Q512.1979,320.4375 512.4166,320.4375 Q512.7916,320.4375 513.026,320.6953 Q513.2604,320.9531 513.2604,321.5625 L513.2604,323.0156 Q513.2604,323.625 513.026,323.8906 Q512.7916,324.1563 512.4166,324.1563 Q512.0729,324.1563 511.8698,323.9531 Q511.6666,323.7656 511.5573,323.25 Q511.5104,322.8906 511.3229,322.7031 Q510.9948,322.3281 510.3854,322.1094 Q509.776,321.8906 509.151,321.8906 Q508.3854,321.8906 507.7526,322.2188 Q507.1198,322.5469 506.6276,323.2969 Q506.1354,324.0469 506.1354,325.0781 L506.1354,326.1719 Q506.1354,327.4063 507.026,328.2266 Q507.9166,329.0469 509.5104,329.0469 Q510.4479,329.0469 511.1041,328.7969 Q511.4948,328.6406 511.9166,328.2031 Q512.1823,327.9375 512.3307,327.8594 Q512.4791,327.7813 512.6823,327.7813 Q513.0104,327.7813 513.2682,328.0391 Q513.526,328.2969 513.526,328.6406 Q513.526,328.9844 513.1823,329.3906 Q512.6823,329.9688 511.8854,330.2969 Q510.8073,330.75 509.5104,330.75 Q507.9948,330.75 506.7916,330.125 Q505.8073,329.625 505.1198,328.5547 Q504.4323,327.4844 504.4323,326.2031 L504.4323,325.0469 Q504.4323,323.7188 505.0494,322.5703 Q505.6666,321.4219 506.7604,320.8047 Q507.8541,320.1875 509.0885,320.1875 Q509.8229,320.1875 510.4713,320.3516 Q511.1198,320.5156 511.6666,320.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="529.401" y="329.9102">S3DataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="419.651" x2="686.651" y1="341" y2="341"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="419.651" x2="686.651" y1="349" y2="349"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="424.651" y="364.4189">__init__(dataset, band_name, storage)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="257" x="424.651" y="378.2549">@contextmanager open() : OverrideBandDataSource</text><!--class S3Driver--><rect fill="#FFEBCD" filter="url(#f1ki0ydbjlec4k)" height="61.8359" id="S3Driver" style="stroke: #A80036; stroke-width: 1.5;" width="296" x="164.151" y="452"/><rect fill="#FFEBCD" height="32" style="stroke: #A80036; stroke-width: 1.5;" width="296" x="164.151" y="452"/><ellipse cx="284.401" cy="468" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M287.1666,463.875 Q287.3229,463.6563 287.5104,463.5469 Q287.6979,463.4375 287.9166,463.4375 Q288.2916,463.4375 288.526,463.6953 Q288.7604,463.9531 288.7604,464.5625 L288.7604,466.0156 Q288.7604,466.625 288.526,466.8906 Q288.2916,467.1563 287.9166,467.1563 Q287.5729,467.1563 287.3698,466.9531 Q287.1666,466.7656 287.0573,466.25 Q287.0104,465.8906 286.8229,465.7031 Q286.4948,465.3281 285.8854,465.1094 Q285.276,464.8906 284.651,464.8906 Q283.8854,464.8906 283.2526,465.2188 Q282.6198,465.5469 282.1276,466.2969 Q281.6354,467.0469 281.6354,468.0781 L281.6354,469.1719 Q281.6354,470.4063 282.526,471.2266 Q283.4166,472.0469 285.0104,472.0469 Q285.9479,472.0469 286.6041,471.7969 Q286.9948,471.6406 287.4166,471.2031 Q287.6823,470.9375 287.8307,470.8594 Q287.9791,470.7813 288.1823,470.7813 Q288.5104,470.7813 288.7682,471.0391 Q289.026,471.2969 289.026,471.6406 Q289.026,471.9844 288.6823,472.3906 Q288.1823,472.9688 287.3854,473.2969 Q286.3073,473.75 285.0104,473.75 Q283.4948,473.75 282.2916,473.125 Q281.3073,472.625 280.6198,471.5547 Q279.9323,470.4844 279.9323,469.2031 L279.9323,468.0469 Q279.9323,466.7188 280.5494,465.5703 Q281.1666,464.4219 282.2604,463.8047 Q283.3541,463.1875 284.5885,463.1875 Q285.3229,463.1875 285.9713,463.3516 Q286.6198,463.5156 287.1666,463.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="47" x="304.901" y="472.9102">S3Driver</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="165.151" x2="459.151" y1="484" y2="484"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="165.151" x2="459.151" y1="492" y2="492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="284" x="170.151" y="507.4189">get_datasource(dataset, measurement_id) : S3DataSource</text><!--class NetCDFDriver--><rect fill="#FFEBCD" filter="url(#f1ki0ydbjlec4k)" height="48" id="NetCDFDriver" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="928.151" y="597"/><rect fill="#FFEBCD" height="32" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="928.151" y="597"/><ellipse cx="943.151" cy="613" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M945.9166,608.875 Q946.0729,608.6563 946.2604,608.5469 Q946.4479,608.4375 946.6666,608.4375 Q947.0416,608.4375 947.276,608.6953 Q947.5104,608.9531 947.5104,609.5625 L947.5104,611.0156 Q947.5104,611.625 947.276,611.8906 Q947.0416,612.1563 946.6666,612.1563 Q946.3229,612.1563 946.1198,611.9531 Q945.9166,611.7656 945.8073,611.25 Q945.7604,610.8906 945.5729,610.7031 Q945.2448,610.3281 944.6354,610.1094 Q944.026,609.8906 943.401,609.8906 Q942.6354,609.8906 942.0026,610.2188 Q941.3698,610.5469 940.8776,611.2969 Q940.3854,612.0469 940.3854,613.0781 L940.3854,614.1719 Q940.3854,615.4063 941.276,616.2266 Q942.1666,617.0469 943.7604,617.0469 Q944.6979,617.0469 945.3541,616.7969 Q945.7448,616.6406 946.1666,616.2031 Q946.4323,615.9375 946.5807,615.8594 Q946.7291,615.7813 946.9323,615.7813 Q947.2604,615.7813 947.5182,616.0391 Q947.776,616.2969 947.776,616.6406 Q947.776,616.9844 947.4323,617.3906 Q946.9323,617.9688 946.1354,618.2969 Q945.0573,618.75 943.7604,618.75 Q942.2448,618.75 941.0416,618.125 Q940.0573,617.625 939.3698,616.5547 Q938.6823,615.4844 938.6823,614.2031 L938.6823,613.0469 Q938.6823,611.7188 939.2994,610.5703 Q939.9166,609.4219 941.0104,608.8047 Q942.1041,608.1875 943.3385,608.1875 Q944.0729,608.1875 944.7213,608.3516 Q945.3698,608.5156 945.9166,608.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="957.151" y="617.9102">NetCDFDriver</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="929.151" x2="1035.151" y1="629" y2="629"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="929.151" x2="1035.151" y1="637" y2="637"/><!--class BandDataSource--><rect fill="#00FFFF" filter="url(#f1ki0ydbjlec4k)" height="117.1797" id="BandDataSource" style="stroke: #A80036; stroke-width: 1.5;" width="235" x="1058.65" y="88"/><rect fill="#00FFFF" height="32" style="stroke: #A80036; stroke-width: 1.5;" width="235" x="1058.65" y="88"/><ellipse cx="1124.9" cy="104" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1127.6656,99.875 Q1127.8219,99.6563 1128.0094,99.5469 Q1128.1969,99.4375 1128.4156,99.4375 Q1128.7906,99.4375 1129.025,99.6953 Q1129.2594,99.9531 1129.2594,100.5625 L1129.2594,102.0156 Q1129.2594,102.625 1129.025,102.8906 Q1128.7906,103.1563 1128.4156,103.1563 Q1128.0719,103.1563 1127.8688,102.9531 Q1127.6656,102.7656 1127.5563,102.25 Q1127.5094,101.8906 1127.3219,101.7031 Q1126.9938,101.3281 1126.3844,101.1094 Q1125.775,100.8906 1125.15,100.8906 Q1124.3844,100.8906 1123.7516,101.2188 Q1123.1188,101.5469 1122.6266,102.2969 Q1122.1344,103.0469 1122.1344,104.0781 L1122.1344,105.1719 Q1122.1344,106.4063 1123.025,107.2266 Q1123.9156,108.0469 1125.5094,108.0469 Q1126.4469,108.0469 1127.1031,107.7969 Q1127.4938,107.6406 1127.9156,107.2031 Q1128.1813,106.9375 1128.3297,106.8594 Q1128.4781,106.7813 1128.6813,106.7813 Q1129.0094,106.7813 1129.2672,107.0391 Q1129.525,107.2969 1129.525,107.6406 Q1129.525,107.9844 1129.1813,108.3906 Q1128.6813,108.9688 1127.8844,109.2969 Q1126.8063,109.75 1125.5094,109.75 Q1123.9938,109.75 1122.7906,109.125 Q1121.8063,108.625 1121.1188,107.5547 Q1120.4313,106.4844 1120.4313,105.2031 L1120.4313,104.0469 Q1120.4313,102.7188 1121.0484,101.5703 Q1121.6656,100.4219 1122.7594,99.8047 Q1123.8531,99.1875 1125.0875,99.1875 Q1125.8219,99.1875 1126.4703,99.3516 Q1127.1188,99.5156 1127.6656,99.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="1145.4" y="108.9102">BandDataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1059.65" x2="1292.65" y1="120" y2="120"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="223" x="1064.65" y="135.4189">Reads data from somewhere implementing the</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="1064.65" y="149.2549">rasterio.Band Interface</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1059.65" x2="1292.65" y1="155.6719" y2="155.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="1064.65" y="171.0908">source : [rasterio.Band | S3Source]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="30" x="1064.65" y="184.9268">read()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="1064.65" y="198.7627">reproject()</text><!--class OverrideBandDataSource--><rect fill="#00FFFF" filter="url(#f1ki0ydbjlec4k)" height="131.0156" id="OverrideBandDataSource" style="stroke: #A80036; stroke-width: 1.5;" width="228" x="795.151" y="81"/><rect fill="#00FFFF" height="32" style="stroke: #A80036; stroke-width: 1.5;" width="228" x="795.151" y="81"/><ellipse cx="835.351" cy="97" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M838.1166,92.875 Q838.2729,92.6563 838.4604,92.5469 Q838.6479,92.4375 838.8666,92.4375 Q839.2416,92.4375 839.476,92.6953 Q839.7104,92.9531 839.7104,93.5625 L839.7104,95.0156 Q839.7104,95.625 839.476,95.8906 Q839.2416,96.1563 838.8666,96.1563 Q838.5229,96.1563 838.3198,95.9531 Q838.1166,95.7656 838.0073,95.25 Q837.9604,94.8906 837.7729,94.7031 Q837.4448,94.3281 836.8354,94.1094 Q836.226,93.8906 835.601,93.8906 Q834.8354,93.8906 834.2026,94.2188 Q833.5698,94.5469 833.0776,95.2969 Q832.5854,96.0469 832.5854,97.0781 L832.5854,98.1719 Q832.5854,99.4063 833.476,100.2266 Q834.3666,101.0469 835.9604,101.0469 Q836.8979,101.0469 837.5541,100.7969 Q837.9448,100.6406 838.3666,100.2031 Q838.6323,99.9375 838.7807,99.8594 Q838.9291,99.7813 839.1323,99.7813 Q839.4604,99.7813 839.7182,100.0391 Q839.976,100.2969 839.976,100.6406 Q839.976,100.9844 839.6323,101.3906 Q839.1323,101.9688 838.3354,102.2969 Q837.2573,102.75 835.9604,102.75 Q834.4448,102.75 833.2416,102.125 Q832.2573,101.625 831.5698,100.5547 Q830.8823,99.4844 830.8823,98.2031 L830.8823,97.0469 Q830.8823,95.7188 831.4994,94.5703 Q832.1166,93.4219 833.2104,92.8047 Q834.3041,92.1875 835.5385,92.1875 Q836.2729,92.1875 836.9213,92.3516 Q837.5698,92.5156 838.1166,92.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="140" x="854.951" y="101.9102">OverrideBandDataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="796.151" x2="1022.151" y1="113" y2="113"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="801.151" y="128.4189">Allows reading data for a band, but uses the</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="801.151" y="142.2549">CRS/Transform/NoData values stored in the</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="801.151" y="156.0908">Dataset and retrieved from the index</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="796.151" x2="1022.151" y1="162.5078" y2="162.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="801.151" y="177.9268">source : [rasterio.Band | S3Source]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="801.151" y="191.7627">read(window, out_shape)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="801.151" y="205.5986">reproject()</text><!--class RasterioDataSource--><rect fill="#98FB98" filter="url(#f1ki0ydbjlec4k)" height="75.6719" id="RasterioDataSource" style="stroke: #A80036; stroke-width: 1.5;" width="260" x="795.151" y="309"/><rect fill="#98FB98" height="32" style="stroke: #A80036; stroke-width: 1.5;" width="260" x="795.151" y="309"/><ellipse cx="865.401" cy="325" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M867.5885,326.7656 L863.4479,326.7656 L863.026,327.7969 L863.4479,327.7969 Q864.0573,327.7969 864.3229,328.0313 Q864.5885,328.2656 864.5885,328.6563 Q864.5885,329.0313 864.3229,329.2656 Q864.0573,329.5 863.4479,329.5 L861.151,329.5 Q860.5416,329.5 860.2838,329.2656 Q860.026,329.0313 860.026,328.6406 Q860.026,328.2656 860.2994,328.0234 Q860.5729,327.7813 861.1979,327.7969 L863.8698,321.1406 L862.7604,321.1406 Q862.151,321.1406 861.8854,320.9063 Q861.6198,320.6719 861.6198,320.2813 Q861.6198,319.9063 861.8854,319.6719 Q862.151,319.4375 862.7604,319.4375 L866.4323,319.4375 L869.8229,327.7969 Q870.4166,327.7969 870.6041,327.9375 Q870.9948,328.2031 870.9948,328.6563 Q870.9948,329.0313 870.7369,329.2656 Q870.4791,329.5 869.8698,329.5 L867.5729,329.5 Q866.9635,329.5 866.6979,329.2656 Q866.4323,329.0313 866.4323,328.6406 Q866.4323,328.2656 866.6979,328.0313 Q866.9635,327.7969 867.5729,327.7969 L867.9948,327.7969 L867.5885,326.7656 Z M866.8698,325.0625 L865.5104,321.6875 L864.1354,325.0625 L866.8698,325.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="111" x="885.901" y="329.9102">RasterioDataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="796.151" x2="1054.151" y1="341" y2="341"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="248" x="801.151" y="356.4189">Uses the rasterio library to read, and read/reproject</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="801.151" y="370.2549">data</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="796.151" x2="1054.151" y1="376.6719" y2="376.6719"/><!--class RasterFileDataSource--><rect fill="#98FB98" filter="url(#f1ki0ydbjlec4k)" height="75.6719" id="RasterFileDataSource" style="stroke: #A80036; stroke-width: 1.5;" width="178" x="795.151" y="445"/><rect fill="#98FB98" height="32" style="stroke: #A80036; stroke-width: 1.5;" width="178" x="795.151" y="445"/><ellipse cx="820.951" cy="461" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M823.7166,456.875 Q823.8729,456.6563 824.0604,456.5469 Q824.2479,456.4375 824.4666,456.4375 Q824.8416,456.4375 825.076,456.6953 Q825.3104,456.9531 825.3104,457.5625 L825.3104,459.0156 Q825.3104,459.625 825.076,459.8906 Q824.8416,460.1563 824.4666,460.1563 Q824.1229,460.1563 823.9197,459.9531 Q823.7166,459.7656 823.6072,459.25 Q823.5604,458.8906 823.3729,458.7031 Q823.0447,458.3281 822.4354,458.1094 Q821.826,457.8906 821.201,457.8906 Q820.4354,457.8906 819.8026,458.2188 Q819.1697,458.5469 818.6776,459.2969 Q818.1854,460.0469 818.1854,461.0781 L818.1854,462.1719 Q818.1854,463.4063 819.076,464.2266 Q819.9666,465.0469 821.5604,465.0469 Q822.4979,465.0469 823.1541,464.7969 Q823.5447,464.6406 823.9666,464.2031 Q824.2322,463.9375 824.3807,463.8594 Q824.5291,463.7813 824.7322,463.7813 Q825.0604,463.7813 825.3182,464.0391 Q825.576,464.2969 825.576,464.6406 Q825.576,464.9844 825.2322,465.3906 Q824.7322,465.9688 823.9354,466.2969 Q822.8572,466.75 821.5604,466.75 Q820.0447,466.75 818.8416,466.125 Q817.8572,465.625 817.1697,464.5547 Q816.4822,463.4844 816.4822,462.2031 L816.4822,461.0469 Q816.4822,459.7188 817.0994,458.5703 Q817.7166,457.4219 818.8104,456.8047 Q819.9041,456.1875 821.1385,456.1875 Q821.8729,456.1875 822.5213,456.3516 Q823.1697,456.5156 823.7166,456.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="837.351" y="465.9102">RasterFileDataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="796.151" x2="972.151" y1="477" y2="477"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="801.151" y="492.4189">Only used for testing!</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="796.151" x2="972.151" y1="498.8359" y2="498.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="801.151" y="514.2549">__init__(filename, bandnumber, ...)</text><!--class RasterDatasetDataSource--><rect fill="#98FB98" filter="url(#f1ki0ydbjlec4k)" height="75.6719" id="RasterDatasetDataSource" style="stroke: #A80036; stroke-width: 1.5;" width="227" x="1008.65" y="445"/><rect fill="#98FB98" height="32" style="stroke: #A80036; stroke-width: 1.5;" width="227" x="1008.65" y="445"/><ellipse cx="1046.15" cy="461" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1048.9156,456.875 Q1049.0719,456.6563 1049.2594,456.5469 Q1049.4469,456.4375 1049.6656,456.4375 Q1050.0406,456.4375 1050.275,456.6953 Q1050.5094,456.9531 1050.5094,457.5625 L1050.5094,459.0156 Q1050.5094,459.625 1050.275,459.8906 Q1050.0406,460.1563 1049.6656,460.1563 Q1049.3219,460.1563 1049.1188,459.9531 Q1048.9156,459.7656 1048.8063,459.25 Q1048.7594,458.8906 1048.5719,458.7031 Q1048.2438,458.3281 1047.6344,458.1094 Q1047.025,457.8906 1046.4,457.8906 Q1045.6344,457.8906 1045.0016,458.2188 Q1044.3688,458.5469 1043.8766,459.2969 Q1043.3844,460.0469 1043.3844,461.0781 L1043.3844,462.1719 Q1043.3844,463.4063 1044.275,464.2266 Q1045.1656,465.0469 1046.7594,465.0469 Q1047.6969,465.0469 1048.3531,464.7969 Q1048.7438,464.6406 1049.1656,464.2031 Q1049.4313,463.9375 1049.5797,463.8594 Q1049.7281,463.7813 1049.9313,463.7813 Q1050.2594,463.7813 1050.5172,464.0391 Q1050.775,464.2969 1050.775,464.6406 Q1050.775,464.9844 1050.4313,465.3906 Q1049.9313,465.9688 1049.1344,466.2969 Q1048.0563,466.75 1046.7594,466.75 Q1045.2438,466.75 1044.0406,466.125 Q1043.0563,465.625 1042.3688,464.5547 Q1041.6813,463.4844 1041.6813,462.2031 L1041.6813,461.0469 Q1041.6813,459.7188 1042.2984,458.5703 Q1042.9156,457.4219 1044.0094,456.8047 Q1045.1031,456.1875 1046.3375,456.1875 Q1047.0719,456.1875 1047.7203,456.3516 Q1048.3688,456.5156 1048.9156,456.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="145" x="1065.15" y="465.9102">RasterDatasetDataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1009.65" x2="1234.65" y1="477" y2="477"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1009.65" x2="1234.65" y1="485" y2="485"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="1014.65" y="500.4189">__init__(dataset, measurement_id)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="1014.65" y="514.2549">@contextmanager open() : BandDataSource</text><!--link rasterio.Band to S3Source--><path d="M122.77,382.285 C130.904,387.186 139.539,391.681 148.151,395 C286.162,448.178 333.18,411.131 477.151,445 C483.174,446.417 489.336,447.998 495.524,449.688 " fill="none" id="rasterio.Band-S3Source" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="118.812,388.06,105.9665,371.207,126.517,376.371,118.812,388.06" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Driver to NetCDFDriver--><path d="M328.673,245.705 C334.879,250.049 341.38,253.882 348.151,257 C366.17,265.299 689.57,252.721 705.151,265 C806.249,344.67 692.584,449.742 779.151,545 C817.559,587.264 881.923,605.7798 927.88,613.8488 " fill="none" id="Driver-NetCDFDriver" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="324.215,251.103,312.954,233.154,332.95,240.163,324.215,251.103" style="stroke: #A80036; stroke-width: 1.0;"/><!--link DataSource to RasterioDataSource--><path d="M665.194,207.658 C727.206,240.659 802.114,280.523 855.558,308.965 " fill="none" id="DataSource-RasterioDataSource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="661.607,213.679,647.24,198.104,668.184,201.32,661.607,213.679" style="stroke: #A80036; stroke-width: 1.0;"/><!--link RasterioDataSource to RasterFileDataSource--><path d="M907.838,404.584 C903.672,418.2 899.326,432.405 895.511,444.874 " fill="none" id="RasterioDataSource-RasterFileDataSource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="901.185,402.403,913.73,385.326,914.572,406.499,901.185,402.403" style="stroke: #A80036; stroke-width: 1.0;"/><!--link RasterioDataSource to RasterDatasetDataSource--><path d="M996.342,396.424 C1019.77,412.358 1045.43,429.813 1067.43,444.779 " fill="none" id="RasterioDataSource-RasterDatasetDataSource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="992.365,402.185,979.765,385.149,1000.239,390.609,992.365,402.185" style="stroke: #A80036; stroke-width: 1.0;"/><!--link S3Source to S3DS--><path d="M592.151,534.266 C592.151,550.367 592.151,567.895 592.151,582.882 " fill="none" id="S3Source-S3DS" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="592.151,521.163,588.151,527.163,592.151,533.163,596.151,527.163,592.151,521.163" style="stroke: #A80036; stroke-width: 1.0;"/><!--link DataSource to S3DataSource--><path d="M552.509,218.495 C552.663,249.082 552.837,283.575 552.965,308.965 " fill="none" id="DataSource-S3DataSource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="545.507,218.139,552.406,198.104,559.507,218.068,545.507,218.139" style="stroke: #A80036; stroke-width: 1.0;"/><!--link S3DataSource to S3Source--><path d="M567.701,397.991 C572.223,413.53 577.126,430.375 581.346,444.874 " fill="none" id="S3DataSource-S3Source" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="564.015,385.326,561.8509,392.2047,567.3682,396.848,569.5323,389.9693,564.015,385.326" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Driver to S3Driver--><path d="M151.085,174.565 C105.8682,192.416 56.6004,220.889 30.1513,265 C0.4395,314.553 -4.1572,348.511 30.1513,395 C47.4927,418.498 105.3109,438.32 164.117,453.081 " fill="none" id="Driver-S3Driver" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="148.951,167.892,170.138,167.551,153.788,181.03,148.951,167.892" style="stroke: #A80036; stroke-width: 1.0;"/><!--link OverrideBandDataSource to S3DataSource--><path d="M824.848,212.08 C802.749,227.705 778.542,243.714 755.151,257 C725.219,274.001 691.422,290.029 660.158,303.674 " fill="none" id="OverrideBandDataSource-S3DataSource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="647.856,308.978,654.9495,310.275,658.875,304.226,651.7815,302.929,647.856,308.978" style="stroke: #A80036; stroke-width: 1.0;"/><!--link OverrideBandDataSource to RasterioDataSource--><path d="M914.368,212.222 C916.556,239.362 919.061,270.437 921.105,295.802 " fill="none" id="OverrideBandDataSource-RasterioDataSource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="922.158,308.869,925.6631,302.5671,921.1941,296.9078,917.689,303.2097,922.158,308.869" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="897.6655" y="298.2076">0..1</text><!--link BandDataSource to RasterioDataSource--><path d="M1105.68,205.26 C1084.98,222.061 1062.24,240.364 1041.15,257 C1022.91,271.391 1002.883,286.87 984.679,300.818 " fill="none" id="BandDataSource-RasterioDataSource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="974.199,308.834,981.3949,308.3663,983.7308,301.544,976.5349,302.0117,974.199,308.834" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="958.9763" y="298.1663">0..1</text><!--link RasterDatasetDataSource to NetCDFDriver--><path d="M1083.9,521.163 C1062.47,541.979 1036,567.688 1015.44,587.667 " fill="none" id="RasterDatasetDataSource-NetCDFDriver" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1005.861,596.9679,1012.9519,595.6568,1014.4689,588.607,1007.378,589.9182,1005.861,596.9679" style="stroke: #A80036; stroke-width: 1.0;"/><!--link S3DataSource to S3Driver--><path d="M486.339,385.149 C452.445,403.994 411.428,426.8 377.712,445.547 " fill="none" id="S3DataSource-S3Driver" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="366.114,451.996,373.3017,452.5762,376.6018,446.1646,369.4141,445.5844,366.114,451.996" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
'left to right direction

interface rasterio.Band

package datacube.drivers {
    abstract DataSource #PaleGreen {
        Responsible for reading data for a single measurement for a single Dataset
        @contextmanager open()
        get_transform()
        get_bandnumber()
    }
    abstract Driver #BlanchedAlmond {
        name
        format
        uri_scheme
        index **Needs to be removed**
        requirements_satisfied()
        write_dataset_to_storage()
        as_uri()
        _init_index()
        get_datasource()
    }
}

package datacube.drivers.s3 {
    class S3Source {
        Similar API to rasterio.Band

        read(indexes, window, write_shape)
    }
    class S3DS {
        __init__(parent)
        read(indexes, window, out_shape)

    }
    class S3DataSource #PaleGreen {
        __init__(dataset, band_name, storage)
        @contextmanager open() : OverrideBandDataSource

    }
    class S3Driver #BlanchedAlmond {
        get_datasource(dataset, measurement_id) : S3DataSource

    }
}

rasterio.Band <|.. S3Source 

package datacube.drivers.netcdf {
    class NetCDFDriver #BlanchedAlmond {

    }
    Driver <|- - NetCDFDriver
}

package datacube.storage.storage {

    class BandDataSource #Cyan {
        Reads data from somewhere implementing the
        rasterio.Band Interface
        ..
        source : [rasterio.Band | S3Source]

        read()
        reproject()
    }
    class OverrideBandDataSource #Cyan {
        Allows reading data for a band, but uses the 
        CRS/Transform/NoData values stored in the
        Dataset and retrieved from the index
        ..
        source : [rasterio.Band | S3Source]

        read(window, out_shape)
        reproject()

    }

    abstract RasterioDataSource #PaleGreen {
        Uses the rasterio library to read, and read/reproject
        data

    }
    DataSource <|- - RasterioDataSource
    class RasterFileDataSource #PaleGreen {
        Only used for testing!
        ..
        __init__(filename, bandnumber, ...)

    }
    RasterioDataSource <|- - RasterFileDataSource
    class RasterDatasetDataSource #PaleGreen {
        __init__(dataset, measurement_id)
        @contextmanager open() : BandDataSource

    }
    RasterioDataSource <|- - RasterDatasetDataSource
}
S3Source *- - S3DS
DataSource <|- - S3DataSource
S3DataSource *- - S3Source
Driver <|- - S3Driver

OverrideBandDataSource - -o S3DataSource
OverrideBandDataSource - -o "0..1" RasterioDataSource
BandDataSource - -o "0..1" RasterioDataSource

RasterDatasetDataSource - -o NetCDFDriver
S3DataSource - -o S3Driver
@enduml

PlantUML version 1.2017.19(Sun Nov 12 22:46:22 AEDT 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_121-b15
Operating System: Windows 7
OS Version: 6.1
Default Encoding: Cp1252
Language: en
Country: AU
--></g></svg>