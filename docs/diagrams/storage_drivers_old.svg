<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="709px" preserveAspectRatio="none" style="width:1473px;height:709px;" version="1.1" viewBox="0 0 1473 709" width="1473px" zoomAndPan="magnify"><defs><filter height="300%" id="f7jsofo2c3b53" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster rasterio--><polygon fill="#FFFFFF" filter="url(#f7jsofo2c3b53)" points="632,86.5,693,86.5,700,110.1094,726,110.1094,726,186.5,632,186.5,632,86.5" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="632" x2="700" y1="110.1094" y2="110.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="636" y="103.0332">rasterio</text><!--cluster datacube.drivers--><polygon fill="#FFFFFF" filter="url(#f7jsofo2c3b53)" points="22,24,148,24,155,47.6094,608,47.6094,608,249,22,249,22,24" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="22" x2="155" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="26" y="40.5332">datacube.drivers</text><!--cluster datacube.drivers.s3--><polygon fill="#FFFFFF" filter="url(#f7jsofo2c3b53)" points="148,299,294,299,301,322.6094,896,322.6094,896,557,148,557,148,299" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="148" x2="301" y1="322.6094" y2="322.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="140" x="152" y="315.5332">datacube.drivers.s3</text><!--cluster datacube.drivers.netcdf--><polygon fill="#FFFFFF" filter="url(#f7jsofo2c3b53)" points="302,597,477,597,484,620.6094,487,620.6094,487,697,302,697,302,597" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="302" x2="484" y1="620.6094" y2="620.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="169" x="306" y="613.5332">datacube.drivers.netcdf</text><!--cluster datacube.storage.storage--><polygon fill="#FFFFFF" filter="url(#f7jsofo2c3b53)" points="920,45,1107,45,1114,68.6094,1451,68.6094,1451,564,920,564,920,45" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="920" x2="1114" y1="68.6094" y2="68.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="181" x="924" y="61.5332">datacube.storage.storage</text><!--class rasterio.Band--><rect fill="#FEFECE" filter="url(#f7jsofo2c3b53)" height="48" id="rasterio.Band" style="stroke: #A80036; stroke-width: 1.5;" width="61" x="648.5" y="122.5"/><ellipse cx="663.5" cy="138.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M665.6875,140.2656 L661.5469,140.2656 L661.125,141.2969 L661.5469,141.2969 Q662.1563,141.2969 662.4219,141.5313 Q662.6875,141.7656 662.6875,142.1563 Q662.6875,142.5313 662.4219,142.7656 Q662.1563,143 661.5469,143 L659.25,143 Q658.6406,143 658.3828,142.7656 Q658.125,142.5313 658.125,142.1406 Q658.125,141.7656 658.3984,141.5234 Q658.6719,141.2813 659.2969,141.2969 L661.9688,134.6406 L660.8594,134.6406 Q660.25,134.6406 659.9844,134.4063 Q659.7188,134.1719 659.7188,133.7813 Q659.7188,133.4063 659.9844,133.1719 Q660.25,132.9375 660.8594,132.9375 L664.5313,132.9375 L667.9219,141.2969 Q668.5156,141.2969 668.7031,141.4375 Q669.0938,141.7031 669.0938,142.1563 Q669.0938,142.5313 668.8359,142.7656 Q668.5781,143 667.9688,143 L665.6719,143 Q665.0625,143 664.7969,142.7656 Q664.5313,142.5313 664.5313,142.1406 Q664.5313,141.7656 664.7969,141.5313 Q665.0625,141.2969 665.6719,141.2969 L666.0938,141.2969 L665.6875,140.2656 Z M664.9688,138.5625 L663.6094,135.1875 L662.2344,138.5625 L664.9688,138.5625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="29" x="677.5" y="143.4102">Band</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="649.5" x2="708.5" y1="154.5" y2="154.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="649.5" x2="708.5" y1="162.5" y2="162.5"/><!--class DataSource--><rect fill="#98FB98" filter="url(#f7jsofo2c3b53)" height="103.3438" id="DataSource" style="stroke: #A80036; stroke-width: 1.5;" width="373" x="218.5" y="95"/><rect fill="#98FB98" height="32" style="stroke: #A80036; stroke-width: 1.5;" width="373" x="218.5" y="95"/><ellipse cx="368.25" cy="111" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M370.4375,112.7656 L366.2969,112.7656 L365.875,113.7969 L366.2969,113.7969 Q366.9063,113.7969 367.1719,114.0313 Q367.4375,114.2656 367.4375,114.6563 Q367.4375,115.0313 367.1719,115.2656 Q366.9063,115.5 366.2969,115.5 L364,115.5 Q363.3906,115.5 363.1328,115.2656 Q362.875,115.0313 362.875,114.6406 Q362.875,114.2656 363.1484,114.0234 Q363.4219,113.7813 364.0469,113.7969 L366.7188,107.1406 L365.6094,107.1406 Q365,107.1406 364.7344,106.9063 Q364.4688,106.6719 364.4688,106.2813 Q364.4688,105.9063 364.7344,105.6719 Q365,105.4375 365.6094,105.4375 L369.2813,105.4375 L372.6719,113.7969 Q373.2656,113.7969 373.4531,113.9375 Q373.8438,114.2031 373.8438,114.6563 Q373.8438,115.0313 373.5859,115.2656 Q373.3281,115.5 372.7188,115.5 L370.4219,115.5 Q369.8125,115.5 369.5469,115.2656 Q369.2813,115.0313 369.2813,114.6406 Q369.2813,114.2656 369.5469,114.0313 Q369.8125,113.7969 370.4219,113.7969 L370.8438,113.7969 L370.4375,112.7656 Z M369.7188,111.0625 L368.3594,107.6875 L366.9844,111.0625 L369.7188,111.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="388.75" y="115.9102">DataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="219.5" x2="590.5" y1="127" y2="127"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="361" x="224.5" y="142.4189">Responsible for reading data for a single measurement for a single Dataset</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="219.5" x2="590.5" y1="148.8359" y2="148.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="224.5" y="164.2549">@contextmanager open()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="224.5" y="178.0908">get_transform()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="224.5" y="191.9268">get_bandnumber()</text><!--class Driver--><rect fill="#FEFECE" filter="url(#f7jsofo2c3b53)" height="172.5234" id="Driver" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="38.5" y="60"/><ellipse cx="90.25" cy="76" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M92.4375,77.7656 L88.2969,77.7656 L87.875,78.7969 L88.2969,78.7969 Q88.9063,78.7969 89.1719,79.0313 Q89.4375,79.2656 89.4375,79.6563 Q89.4375,80.0313 89.1719,80.2656 Q88.9063,80.5 88.2969,80.5 L86,80.5 Q85.3906,80.5 85.1328,80.2656 Q84.875,80.0313 84.875,79.6406 Q84.875,79.2656 85.1484,79.0234 Q85.4219,78.7813 86.0469,78.7969 L88.7188,72.1406 L87.6094,72.1406 Q87,72.1406 86.7344,71.9063 Q86.4688,71.6719 86.4688,71.2813 Q86.4688,70.9063 86.7344,70.6719 Q87,70.4375 87.6094,70.4375 L91.2813,70.4375 L94.6719,78.7969 Q95.2656,78.7969 95.4531,78.9375 Q95.8438,79.2031 95.8438,79.6563 Q95.8438,80.0313 95.5859,80.2656 Q95.3281,80.5 94.7188,80.5 L92.4219,80.5 Q91.8125,80.5 91.5469,80.2656 Q91.2813,80.0313 91.2813,79.6406 Q91.2813,79.2656 91.5469,79.0313 Q91.8125,78.7969 92.4219,78.7969 L92.8438,78.7969 L92.4375,77.7656 Z M91.7188,76.0625 L90.3594,72.6875 L88.9844,76.0625 L91.7188,76.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="33" x="110.75" y="80.9102">Driver</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39.5" x2="182.5" y1="92" y2="92"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="26" x="44.5" y="107.4189">name</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="31" x="44.5" y="121.2549">format</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="44.5" y="135.0908">uri_scheme</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="44.5" y="148.9268">index xxx</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39.5" x2="182.5" y1="155.3438" y2="155.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="44.5" y="170.7627">requirements_satisfied()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="44.5" y="184.5986">write_dataset_to_storage()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="44.5" y="198.4346">as_uri()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="44.5" y="212.2705">_init_index()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="44.5" y="226.1064">get_datasource()</text><!--class S3Source--><rect fill="#FEFECE" filter="url(#f7jsofo2c3b53)" height="75.6719" id="S3Source" style="stroke: #A80036; stroke-width: 1.5;" width="193" x="164.5" y="335"/><ellipse cx="229.75" cy="351" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M232.5156,346.875 Q232.6719,346.6563 232.8594,346.5469 Q233.0469,346.4375 233.2656,346.4375 Q233.6406,346.4375 233.875,346.6953 Q234.1094,346.9531 234.1094,347.5625 L234.1094,349.0156 Q234.1094,349.625 233.875,349.8906 Q233.6406,350.1563 233.2656,350.1563 Q232.9219,350.1563 232.7188,349.9531 Q232.5156,349.7656 232.4063,349.25 Q232.3594,348.8906 232.1719,348.7031 Q231.8438,348.3281 231.2344,348.1094 Q230.625,347.8906 230,347.8906 Q229.2344,347.8906 228.6016,348.2188 Q227.9688,348.5469 227.4766,349.2969 Q226.9844,350.0469 226.9844,351.0781 L226.9844,352.1719 Q226.9844,353.4063 227.875,354.2266 Q228.7656,355.0469 230.3594,355.0469 Q231.2969,355.0469 231.9531,354.7969 Q232.3438,354.6406 232.7656,354.2031 Q233.0313,353.9375 233.1797,353.8594 Q233.3281,353.7813 233.5313,353.7813 Q233.8594,353.7813 234.1172,354.0391 Q234.375,354.2969 234.375,354.6406 Q234.375,354.9844 234.0313,355.3906 Q233.5313,355.9688 232.7344,356.2969 Q231.6563,356.75 230.3594,356.75 Q228.8438,356.75 227.6406,356.125 Q226.6563,355.625 225.9688,354.5547 Q225.2813,353.4844 225.2813,352.2031 L225.2813,351.0469 Q225.2813,349.7188 225.8984,348.5703 Q226.5156,347.4219 227.6094,346.8047 Q228.7031,346.1875 229.9375,346.1875 Q230.6719,346.1875 231.3203,346.3516 Q231.9688,346.5156 232.5156,346.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="54" x="250.25" y="355.9102">S3Source</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="165.5" x2="356.5" y1="367" y2="367"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="170.5" y="382.4189">Similar API to rasterio.Band</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="165.5" x2="356.5" y1="388.8359" y2="388.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="181" x="170.5" y="404.2549">read(indexes, window, write_shape)</text><!--class S3DS--><rect fill="#FEFECE" filter="url(#f7jsofo2c3b53)" height="75.6719" id="S3DS" style="stroke: #A80036; stroke-width: 1.5;" width="183" x="392.5" y="335"/><ellipse cx="463.75" cy="351" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M466.5156,346.875 Q466.6719,346.6563 466.8594,346.5469 Q467.0469,346.4375 467.2656,346.4375 Q467.6406,346.4375 467.875,346.6953 Q468.1094,346.9531 468.1094,347.5625 L468.1094,349.0156 Q468.1094,349.625 467.875,349.8906 Q467.6406,350.1563 467.2656,350.1563 Q466.9219,350.1563 466.7188,349.9531 Q466.5156,349.7656 466.4063,349.25 Q466.3594,348.8906 466.1719,348.7031 Q465.8438,348.3281 465.2344,348.1094 Q464.625,347.8906 464,347.8906 Q463.2344,347.8906 462.6016,348.2188 Q461.9688,348.5469 461.4766,349.2969 Q460.9844,350.0469 460.9844,351.0781 L460.9844,352.1719 Q460.9844,353.4063 461.875,354.2266 Q462.7656,355.0469 464.3594,355.0469 Q465.2969,355.0469 465.9531,354.7969 Q466.3438,354.6406 466.7656,354.2031 Q467.0313,353.9375 467.1797,353.8594 Q467.3281,353.7813 467.5313,353.7813 Q467.8594,353.7813 468.1172,354.0391 Q468.375,354.2969 468.375,354.6406 Q468.375,354.9844 468.0313,355.3906 Q467.5313,355.9688 466.7344,356.2969 Q465.6563,356.75 464.3594,356.75 Q462.8438,356.75 461.6406,356.125 Q460.6563,355.625 459.9688,354.5547 Q459.2813,353.4844 459.2813,352.2031 L459.2813,351.0469 Q459.2813,349.7188 459.8984,348.5703 Q460.5156,347.4219 461.6094,346.8047 Q462.7031,346.1875 463.9375,346.1875 Q464.6719,346.1875 465.3203,346.3516 Q465.9688,346.5156 466.5156,346.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="484.25" y="355.9102">S3DS</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="393.5" x2="574.5" y1="367" y2="367"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="393.5" x2="574.5" y1="375" y2="375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="398.5" y="390.4189">__init__(parent)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="398.5" y="404.2549">read(indexes, window, out_shape)</text><!--class S3DataSource--><rect fill="#98FB98" filter="url(#f7jsofo2c3b53)" height="75.6719" id="S3DataSource" style="stroke: #A80036; stroke-width: 1.5;" width="269" x="610.5" y="335"/><rect fill="#98FB98" height="32" style="stroke: #A80036; stroke-width: 1.5;" width="269" x="610.5" y="335"/><ellipse cx="700.75" cy="351" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M703.5156,346.875 Q703.6719,346.6563 703.8594,346.5469 Q704.0469,346.4375 704.2656,346.4375 Q704.6406,346.4375 704.875,346.6953 Q705.1094,346.9531 705.1094,347.5625 L705.1094,349.0156 Q705.1094,349.625 704.875,349.8906 Q704.6406,350.1563 704.2656,350.1563 Q703.9219,350.1563 703.7188,349.9531 Q703.5156,349.7656 703.4063,349.25 Q703.3594,348.8906 703.1719,348.7031 Q702.8438,348.3281 702.2344,348.1094 Q701.625,347.8906 701,347.8906 Q700.2344,347.8906 699.6016,348.2188 Q698.9688,348.5469 698.4766,349.2969 Q697.9844,350.0469 697.9844,351.0781 L697.9844,352.1719 Q697.9844,353.4063 698.875,354.2266 Q699.7656,355.0469 701.3594,355.0469 Q702.2969,355.0469 702.9531,354.7969 Q703.3438,354.6406 703.7656,354.2031 Q704.0313,353.9375 704.1797,353.8594 Q704.3281,353.7813 704.5313,353.7813 Q704.8594,353.7813 705.1172,354.0391 Q705.375,354.2969 705.375,354.6406 Q705.375,354.9844 705.0313,355.3906 Q704.5313,355.9688 703.7344,356.2969 Q702.6563,356.75 701.3594,356.75 Q699.8438,356.75 698.6406,356.125 Q697.6563,355.625 696.9688,354.5547 Q696.2813,353.4844 696.2813,352.2031 L696.2813,351.0469 Q696.2813,349.7188 696.8984,348.5703 Q697.5156,347.4219 698.6094,346.8047 Q699.7031,346.1875 700.9375,346.1875 Q701.6719,346.1875 702.3203,346.3516 Q702.9688,346.5156 703.5156,346.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="721.25" y="355.9102">S3DataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="611.5" x2="878.5" y1="367" y2="367"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="611.5" x2="878.5" y1="375" y2="375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="616.5" y="390.4189">__init__(dataset, band_name, storage)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="257" x="616.5" y="404.2549">@contextmanager open() : OverrideBandDataSource</text><!--class S3Driver--><rect fill="#FEFECE" filter="url(#f7jsofo2c3b53)" height="61.8359" id="S3Driver" style="stroke: #A80036; stroke-width: 1.5;" width="296" x="374" y="479"/><ellipse cx="494.25" cy="495" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M497.0156,490.875 Q497.1719,490.6563 497.3594,490.5469 Q497.5469,490.4375 497.7656,490.4375 Q498.1406,490.4375 498.375,490.6953 Q498.6094,490.9531 498.6094,491.5625 L498.6094,493.0156 Q498.6094,493.625 498.375,493.8906 Q498.1406,494.1563 497.7656,494.1563 Q497.4219,494.1563 497.2188,493.9531 Q497.0156,493.7656 496.9063,493.25 Q496.8594,492.8906 496.6719,492.7031 Q496.3438,492.3281 495.7344,492.1094 Q495.125,491.8906 494.5,491.8906 Q493.7344,491.8906 493.1016,492.2188 Q492.4688,492.5469 491.9766,493.2969 Q491.4844,494.0469 491.4844,495.0781 L491.4844,496.1719 Q491.4844,497.4063 492.375,498.2266 Q493.2656,499.0469 494.8594,499.0469 Q495.7969,499.0469 496.4531,498.7969 Q496.8438,498.6406 497.2656,498.2031 Q497.5313,497.9375 497.6797,497.8594 Q497.8281,497.7813 498.0313,497.7813 Q498.3594,497.7813 498.6172,498.0391 Q498.875,498.2969 498.875,498.6406 Q498.875,498.9844 498.5313,499.3906 Q498.0313,499.9688 497.2344,500.2969 Q496.1563,500.75 494.8594,500.75 Q493.3438,500.75 492.1406,500.125 Q491.1563,499.625 490.4688,498.5547 Q489.7813,497.4844 489.7813,496.2031 L489.7813,495.0469 Q489.7813,493.7188 490.3984,492.5703 Q491.0156,491.4219 492.1094,490.8047 Q493.2031,490.1875 494.4375,490.1875 Q495.1719,490.1875 495.8203,490.3516 Q496.4688,490.5156 497.0156,490.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="47" x="514.75" y="499.9102">S3Driver</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="375" x2="669" y1="511" y2="511"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="375" x2="669" y1="519" y2="519"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="284" x="380" y="534.4189">get_datasource(dataset, measurement_id) : S3DataSource</text><!--class NetCDFDriver--><rect fill="#FEFECE" filter="url(#f7jsofo2c3b53)" height="48" id="NetCDFDriver" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="340" y="633"/><ellipse cx="355" cy="649" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M357.7656,644.875 Q357.9219,644.6563 358.1094,644.5469 Q358.2969,644.4375 358.5156,644.4375 Q358.8906,644.4375 359.125,644.6953 Q359.3594,644.9531 359.3594,645.5625 L359.3594,647.0156 Q359.3594,647.625 359.125,647.8906 Q358.8906,648.1563 358.5156,648.1563 Q358.1719,648.1563 357.9688,647.9531 Q357.7656,647.7656 357.6563,647.25 Q357.6094,646.8906 357.4219,646.7031 Q357.0938,646.3281 356.4844,646.1094 Q355.875,645.8906 355.25,645.8906 Q354.4844,645.8906 353.8516,646.2188 Q353.2188,646.5469 352.7266,647.2969 Q352.2344,648.0469 352.2344,649.0781 L352.2344,650.1719 Q352.2344,651.4063 353.125,652.2266 Q354.0156,653.0469 355.6094,653.0469 Q356.5469,653.0469 357.2031,652.7969 Q357.5938,652.6406 358.0156,652.2031 Q358.2813,651.9375 358.4297,651.8594 Q358.5781,651.7813 358.7813,651.7813 Q359.1094,651.7813 359.3672,652.0391 Q359.625,652.2969 359.625,652.6406 Q359.625,652.9844 359.2813,653.3906 Q358.7813,653.9688 357.9844,654.2969 Q356.9063,654.75 355.6094,654.75 Q354.0938,654.75 352.8906,654.125 Q351.9063,653.625 351.2188,652.5547 Q350.5313,651.4844 350.5313,650.2031 L350.5313,649.0469 Q350.5313,647.7188 351.1484,646.5703 Q351.7656,645.4219 352.8594,644.8047 Q353.9531,644.1875 355.1875,644.1875 Q355.9219,644.1875 356.5703,644.3516 Q357.2188,644.5156 357.7656,644.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="369" y="653.9102">NetCDFDriver</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="341" x2="447" y1="665" y2="665"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="341" x2="447" y1="673" y2="673"/><!--class BandDataSource--><rect fill="#00FFFF" filter="url(#f7jsofo2c3b53)" height="117.1797" id="BandDataSource" style="stroke: #A80036; stroke-width: 1.5;" width="235" x="1199.5" y="88"/><rect fill="#00FFFF" height="32" style="stroke: #A80036; stroke-width: 1.5;" width="235" x="1199.5" y="88"/><ellipse cx="1265.75" cy="104" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1268.5156,99.875 Q1268.6719,99.6563 1268.8594,99.5469 Q1269.0469,99.4375 1269.2656,99.4375 Q1269.6406,99.4375 1269.875,99.6953 Q1270.1094,99.9531 1270.1094,100.5625 L1270.1094,102.0156 Q1270.1094,102.625 1269.875,102.8906 Q1269.6406,103.1563 1269.2656,103.1563 Q1268.9219,103.1563 1268.7188,102.9531 Q1268.5156,102.7656 1268.4063,102.25 Q1268.3594,101.8906 1268.1719,101.7031 Q1267.8438,101.3281 1267.2344,101.1094 Q1266.625,100.8906 1266,100.8906 Q1265.2344,100.8906 1264.6016,101.2188 Q1263.9688,101.5469 1263.4766,102.2969 Q1262.9844,103.0469 1262.9844,104.0781 L1262.9844,105.1719 Q1262.9844,106.4063 1263.875,107.2266 Q1264.7656,108.0469 1266.3594,108.0469 Q1267.2969,108.0469 1267.9531,107.7969 Q1268.3438,107.6406 1268.7656,107.2031 Q1269.0313,106.9375 1269.1797,106.8594 Q1269.3281,106.7813 1269.5313,106.7813 Q1269.8594,106.7813 1270.1172,107.0391 Q1270.375,107.2969 1270.375,107.6406 Q1270.375,107.9844 1270.0313,108.3906 Q1269.5313,108.9688 1268.7344,109.2969 Q1267.6563,109.75 1266.3594,109.75 Q1264.8438,109.75 1263.6406,109.125 Q1262.6563,108.625 1261.9688,107.5547 Q1261.2813,106.4844 1261.2813,105.2031 L1261.2813,104.0469 Q1261.2813,102.7188 1261.8984,101.5703 Q1262.5156,100.4219 1263.6094,99.8047 Q1264.7031,99.1875 1265.9375,99.1875 Q1266.6719,99.1875 1267.3203,99.3516 Q1267.9688,99.5156 1268.5156,99.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="1286.25" y="108.9102">BandDataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1200.5" x2="1433.5" y1="120" y2="120"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="223" x="1205.5" y="135.4189">Reads data from somewhere implementing the</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="1205.5" y="149.2549">rasterio.Band Interface</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1200.5" x2="1433.5" y1="155.6719" y2="155.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="1205.5" y="171.0908">source : [rasterio.Band | S3Source]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="30" x="1205.5" y="184.9268">read()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="1205.5" y="198.7627">reproject()</text><!--class OverrideBandDataSource--><rect fill="#00FFFF" filter="url(#f7jsofo2c3b53)" height="131.0156" id="OverrideBandDataSource" style="stroke: #A80036; stroke-width: 1.5;" width="228" x="936" y="81"/><rect fill="#00FFFF" height="32" style="stroke: #A80036; stroke-width: 1.5;" width="228" x="936" y="81"/><ellipse cx="976.2" cy="97" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M978.9656,92.875 Q979.1219,92.6563 979.3094,92.5469 Q979.4969,92.4375 979.7156,92.4375 Q980.0906,92.4375 980.325,92.6953 Q980.5594,92.9531 980.5594,93.5625 L980.5594,95.0156 Q980.5594,95.625 980.325,95.8906 Q980.0906,96.1563 979.7156,96.1563 Q979.3719,96.1563 979.1688,95.9531 Q978.9656,95.7656 978.8563,95.25 Q978.8094,94.8906 978.6219,94.7031 Q978.2938,94.3281 977.6844,94.1094 Q977.075,93.8906 976.45,93.8906 Q975.6844,93.8906 975.0516,94.2188 Q974.4188,94.5469 973.9266,95.2969 Q973.4344,96.0469 973.4344,97.0781 L973.4344,98.1719 Q973.4344,99.4063 974.325,100.2266 Q975.2156,101.0469 976.8094,101.0469 Q977.7469,101.0469 978.4031,100.7969 Q978.7938,100.6406 979.2156,100.2031 Q979.4813,99.9375 979.6297,99.8594 Q979.7781,99.7813 979.9813,99.7813 Q980.3094,99.7813 980.5672,100.0391 Q980.825,100.2969 980.825,100.6406 Q980.825,100.9844 980.4813,101.3906 Q979.9813,101.9688 979.1844,102.2969 Q978.1063,102.75 976.8094,102.75 Q975.2938,102.75 974.0906,102.125 Q973.1063,101.625 972.4188,100.5547 Q971.7313,99.4844 971.7313,98.2031 L971.7313,97.0469 Q971.7313,95.7188 972.3484,94.5703 Q972.9656,93.4219 974.0594,92.8047 Q975.1531,92.1875 976.3875,92.1875 Q977.1219,92.1875 977.7703,92.3516 Q978.4188,92.5156 978.9656,92.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="140" x="995.8" y="101.9102">OverrideBandDataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="937" x2="1163" y1="113" y2="113"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="942" y="128.4189">Allows reading data for a band, but uses the</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="942" y="142.2549">CRS/Transform/NoData values stored in the</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="942" y="156.0908">Dataset and retrieved from the index</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="937" x2="1163" y1="162.5078" y2="162.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="942" y="177.9268">source : [rasterio.Band | S3Source]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="942" y="191.7627">read(window, out_shape)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="942" y="205.5986">reproject()</text><!--class RasterioDataSource--><rect fill="#98FB98" filter="url(#f7jsofo2c3b53)" height="48" id="RasterioDataSource" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="978.5" y="349"/><rect fill="#98FB98" height="32" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="978.5" y="349"/><ellipse cx="993.5" cy="365" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M995.6875,366.7656 L991.5469,366.7656 L991.125,367.7969 L991.5469,367.7969 Q992.1563,367.7969 992.4219,368.0313 Q992.6875,368.2656 992.6875,368.6563 Q992.6875,369.0313 992.4219,369.2656 Q992.1563,369.5 991.5469,369.5 L989.25,369.5 Q988.6406,369.5 988.3828,369.2656 Q988.125,369.0313 988.125,368.6406 Q988.125,368.2656 988.3984,368.0234 Q988.6719,367.7813 989.2969,367.7969 L991.9688,361.1406 L990.8594,361.1406 Q990.25,361.1406 989.9844,360.9063 Q989.7188,360.6719 989.7188,360.2813 Q989.7188,359.9063 989.9844,359.6719 Q990.25,359.4375 990.8594,359.4375 L994.5313,359.4375 L997.9219,367.7969 Q998.5156,367.7969 998.7031,367.9375 Q999.0938,368.2031 999.0938,368.6563 Q999.0938,369.0313 998.8359,369.2656 Q998.5781,369.5 997.9688,369.5 L995.6719,369.5 Q995.0625,369.5 994.7969,369.2656 Q994.5313,369.0313 994.5313,368.6406 Q994.5313,368.2656 994.7969,368.0313 Q995.0625,367.7969 995.6719,367.7969 L996.0938,367.7969 L995.6875,366.7656 Z M994.9688,365.0625 L993.6094,361.6875 L992.2344,365.0625 L994.9688,365.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="111" x="1007.5" y="369.9102">RasterioDataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="979.5" x2="1120.5" y1="381" y2="381"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="979.5" x2="1120.5" y1="389" y2="389"/><!--class RasterFileDataSource--><rect fill="#FEFECE" filter="url(#f7jsofo2c3b53)" height="75.6719" id="RasterFileDataSource" style="stroke: #A80036; stroke-width: 1.5;" width="178" x="936" y="472"/><ellipse cx="961.8" cy="488" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M964.5656,483.875 Q964.7219,483.6563 964.9094,483.5469 Q965.0969,483.4375 965.3156,483.4375 Q965.6906,483.4375 965.925,483.6953 Q966.1594,483.9531 966.1594,484.5625 L966.1594,486.0156 Q966.1594,486.625 965.925,486.8906 Q965.6906,487.1563 965.3156,487.1563 Q964.9719,487.1563 964.7688,486.9531 Q964.5656,486.7656 964.4563,486.25 Q964.4094,485.8906 964.2219,485.7031 Q963.8938,485.3281 963.2844,485.1094 Q962.675,484.8906 962.05,484.8906 Q961.2844,484.8906 960.6516,485.2188 Q960.0188,485.5469 959.5266,486.2969 Q959.0344,487.0469 959.0344,488.0781 L959.0344,489.1719 Q959.0344,490.4063 959.925,491.2266 Q960.8156,492.0469 962.4094,492.0469 Q963.3469,492.0469 964.0031,491.7969 Q964.3938,491.6406 964.8156,491.2031 Q965.0813,490.9375 965.2297,490.8594 Q965.3781,490.7813 965.5813,490.7813 Q965.9094,490.7813 966.1672,491.0391 Q966.425,491.2969 966.425,491.6406 Q966.425,491.9844 966.0813,492.3906 Q965.5813,492.9688 964.7844,493.2969 Q963.7063,493.75 962.4094,493.75 Q960.8938,493.75 959.6906,493.125 Q958.7063,492.625 958.0188,491.5547 Q957.3313,490.4844 957.3313,489.2031 L957.3313,488.0469 Q957.3313,486.7188 957.9484,485.5703 Q958.5656,484.4219 959.6594,483.8047 Q960.7531,483.1875 961.9875,483.1875 Q962.7219,483.1875 963.3703,483.3516 Q964.0188,483.5156 964.5656,483.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="978.2" y="492.9102">RasterFileDataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="937" x2="1113" y1="504" y2="504"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="942" y="519.4189">Only used for testing!</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="937" x2="1113" y1="525.8359" y2="525.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="942" y="541.2549">__init__(filename, bandnumber, ...)</text><!--class RasterDatasetDataSource--><rect fill="#98FB98" filter="url(#f7jsofo2c3b53)" height="75.6719" id="RasterDatasetDataSource" style="stroke: #A80036; stroke-width: 1.5;" width="227" x="1149.5" y="472"/><rect fill="#98FB98" height="32" style="stroke: #A80036; stroke-width: 1.5;" width="227" x="1149.5" y="472"/><ellipse cx="1187" cy="488" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1189.7656,483.875 Q1189.9219,483.6563 1190.1094,483.5469 Q1190.2969,483.4375 1190.5156,483.4375 Q1190.8906,483.4375 1191.125,483.6953 Q1191.3594,483.9531 1191.3594,484.5625 L1191.3594,486.0156 Q1191.3594,486.625 1191.125,486.8906 Q1190.8906,487.1563 1190.5156,487.1563 Q1190.1719,487.1563 1189.9688,486.9531 Q1189.7656,486.7656 1189.6563,486.25 Q1189.6094,485.8906 1189.4219,485.7031 Q1189.0938,485.3281 1188.4844,485.1094 Q1187.875,484.8906 1187.25,484.8906 Q1186.4844,484.8906 1185.8516,485.2188 Q1185.2188,485.5469 1184.7266,486.2969 Q1184.2344,487.0469 1184.2344,488.0781 L1184.2344,489.1719 Q1184.2344,490.4063 1185.125,491.2266 Q1186.0156,492.0469 1187.6094,492.0469 Q1188.5469,492.0469 1189.2031,491.7969 Q1189.5938,491.6406 1190.0156,491.2031 Q1190.2813,490.9375 1190.4297,490.8594 Q1190.5781,490.7813 1190.7813,490.7813 Q1191.1094,490.7813 1191.3672,491.0391 Q1191.625,491.2969 1191.625,491.6406 Q1191.625,491.9844 1191.2813,492.3906 Q1190.7813,492.9688 1189.9844,493.2969 Q1188.9063,493.75 1187.6094,493.75 Q1186.0938,493.75 1184.8906,493.125 Q1183.9063,492.625 1183.2188,491.5547 Q1182.5313,490.4844 1182.5313,489.2031 L1182.5313,488.0469 Q1182.5313,486.7188 1183.1484,485.5703 Q1183.7656,484.4219 1184.8594,483.8047 Q1185.9531,483.1875 1187.1875,483.1875 Q1187.9219,483.1875 1188.5703,483.3516 Q1189.2188,483.5156 1189.7656,483.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="145" x="1206" y="492.9102">RasterDatasetDataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1150.5" x2="1375.5" y1="504" y2="504"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1150.5" x2="1375.5" y1="512" y2="512"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="1155.5" y="527.4189">__init__(dataset, measurement_id)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="1155.5" y="541.2549">@contextmanager open() : BandDataSource</text><!--link rasterio.Band to S3Source--><path d="M662.476,189.156 C650.845,212.909 632.883,241.043 608,257 C519.906,313.493 472.135,252.053 375,291 C349.085,301.391 323.448,318.792 303.069,334.808 " fill="none" id="rasterio.Band-S3Source" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="656.22,185.999,670.771,170.596,669.001,191.711,656.22,185.999" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Driver to NetCDFDriver--><path d="M86.3864,253.06 C70.7015,349.766 66.4221,489.977 148,572 C199.635,623.9168 284.634,643.7668 339.964,651.3429 " fill="none" id="Driver-NetCDFDriver" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="79.5332,251.613,89.8796,233.121,93.3231,254.029,79.5332,251.613" style="stroke: #A80036; stroke-width: 1.0;"/><!--link DataSource to RasterioDataSource--><path d="M510.735,207.209 C548.023,225.892 590.908,244.793 632,257 C688.702,273.845 839.599,273.173 896,291 C939.206,304.657 984.652,330.119 1014.88,348.863 " fill="none" id="DataSource-RasterioDataSource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="507.524,213.43,492.911,198.085,513.904,200.968,507.524,213.43" style="stroke: #A80036; stroke-width: 1.0;"/><!--link RasterioDataSource to RasterFileDataSource--><path d="M1042.03,417.047 C1038.76,434.678 1035.02,454.883 1031.88,471.854 " fill="none" id="RasterioDataSource-RasterFileDataSource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1035.18,415.598,1045.7,397.207,1048.94,418.148,1035.18,415.598" style="stroke: #A80036; stroke-width: 1.0;"/><!--link RasterioDataSource to RasterDatasetDataSource--><path d="M1103.67,408.017 C1134.37,427.473 1172.91,451.899 1204.39,471.854 " fill="none" id="RasterioDataSource-RasterDatasetDataSource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1099.76,413.827,1086.62,397.207,1107.26,402.002,1099.76,413.827" style="stroke: #A80036; stroke-width: 1.0;"/><!--link OverrideBandDataSource to S3DataSource--><path d="M951.588,219.938 C899.577,258.221 837.924,303.602 795.59,334.763 " fill="none" id="OverrideBandDataSource-S3DataSource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="962.191,212.134,954.9877,212.4689,952.5264,219.247,959.7297,218.912,962.191,212.134" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="890" y="279.4951">Implemented Using</text><!--link OverrideBandDataSource to RasterioDataSource--><path d="M1050,225.341 C1050,268.79 1050,319.855 1050,348.824 " fill="none" id="OverrideBandDataSource-RasterioDataSource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1050,212.134,1046,218.134,1050,224.134,1054,218.134,1050,212.134" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="1051" y="279.4951">Implemented Using</text><!--link BandDataSource to RasterioDataSource--><path d="M1248.32,214.251 C1224.38,236.702 1196.99,261.495 1171,283 C1142.37,306.687 1108.12,331.58 1083.38,348.997 " fill="none" id="BandDataSource-RasterioDataSource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1258.01,205.119,1250.9002,206.3232,1249.2772,213.3493,1256.387,212.1451,1258.01,205.119" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="1192" y="279.4951">Implemented Using</text><!--link DataSource to S3DataSource--><path d="M498.473,209.22 C559.538,249.54 637.251,300.854 688.933,334.979 " fill="none" id="DataSource-S3DataSource" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="494.559,215.024,481.727,198.162,502.274,203.341,494.559,215.024" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Driver to S3Driver--><path d="M99.5436,253.449 C99.6462,306.713 109.528,368.745 147,411 C177.527,445.424 282.446,471.035 373.568,487.425 " fill="none" id="Driver-S3Driver" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="92.5513,252.998,99.9618,233.147,106.548,253.287,92.5513,252.998" style="stroke: #A80036; stroke-width: 1.0;"/><!--link RasterDatasetDataSource to NetCDFDriver--><path d="M1182.04,553.603 C1165.82,560.725 1148.65,567.311 1132,572 C883.445,642.0119 572.176,653.8913 448.392,655.7449 " fill="none" id="RasterDatasetDataSource-NetCDFDriver" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1194.23,548.075,1187.1134,546.9112,1183.302,553.0327,1190.4186,554.1965,1194.23,548.075" style="stroke: #A80036; stroke-width: 1.0;"/><!--link S3DataSource to S3Driver--><path d="M672.372,417.968 C639.478,437.881 601.425,460.918 571.829,478.834 " fill="none" id="S3DataSource-S3Driver" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="683.769,411.068,676.5648,410.7535,673.5036,417.2826,680.7078,417.5971,683.769,411.068" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
'left to right direction

abstract rasterio.Band

package datacube.drivers {
    abstract DataSource #PaleGreen {
        Responsible for reading data for a single measurement for a single Dataset
        @contextmanager open()
        get_transform()
        get_bandnumber()
    }
    abstract Driver {
        name
        format
        uri_scheme
        index xxx
        requirements_satisfied()
        write_dataset_to_storage()
        as_uri()
        _init_index()
        get_datasource()
    }
}

package datacube.drivers.s3 {
    class S3Source {
        Similar API to rasterio.Band

        read(indexes, window, write_shape)
    }
    class S3DS {
        __init__(parent)
        read(indexes, window, out_shape)

    }
    class S3DataSource #PaleGreen {
        __init__(dataset, band_name, storage)
        @contextmanager open() : OverrideBandDataSource

    }
    class S3Driver {
        get_datasource(dataset, measurement_id) : S3DataSource

    }
}

rasterio.Band <|- - S3Source 

package datacube.drivers.netcdf {
    class NetCDFDriver {

    }
    Driver <|- - NetCDFDriver
}

package datacube.storage.storage {

    class BandDataSource #Cyan {
        Reads data from somewhere implementing the
        rasterio.Band Interface
        ..
        source : [rasterio.Band | S3Source]

        read()
        reproject()
    }
    class OverrideBandDataSource #Cyan {
        Allows reading data for a band, but uses the 
        CRS/Transform/NoData values stored in the
        Dataset and retrieved from the index
        ..
        source : [rasterio.Band | S3Source]

        read(window, out_shape)
        reproject()

    }

    abstract RasterioDataSource #PaleGreen {

    }
    DataSource <|- - RasterioDataSource
    class RasterFileDataSource {
        Only used for testing!
        ..
        __init__(filename, bandnumber, ...)

    }
    RasterioDataSource <|- - RasterFileDataSource
    class RasterDatasetDataSource #PaleGreen {
        __init__(dataset, measurement_id)
        @contextmanager open() : BandDataSource

    }
    RasterioDataSource <|- - RasterDatasetDataSource
}

OverrideBandDataSource *- - S3DataSource : Implemented Using
OverrideBandDataSource *- - RasterioDataSource : Implemented Using
BandDataSource *- - RasterioDataSource : Implemented Using
DataSource <|- - S3DataSource
Driver <|- - S3Driver
RasterDatasetDataSource *- - NetCDFDriver
S3DataSource *- - S3Driver
@enduml

PlantUML version 1.2017.19(Sun Nov 12 22:46:22 AEDT 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_121-b15
Operating System: Windows 7
OS Version: 6.1
Default Encoding: Cp1252
Language: en
Country: AU
--></g></svg>