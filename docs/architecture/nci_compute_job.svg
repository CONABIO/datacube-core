<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="672px" preserveAspectRatio="none" style="width:950px;height:672px;" version="1.1" viewBox="0 0 950 672" width="950px" zoomAndPan="magnify"><defs><filter height="300%" id="fl5odj87cajg1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125" x="408" y="23.5352">NCI Compute Job</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="48" x2="48" y1="116.9766" y2="585.0137"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="322" x2="322" y1="116.9766" y2="585.0137"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="556.5" x2="556.5" y1="116.9766" y2="585.0137"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="755" x2="755" y1="116.9766" y2="585.0137"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="860" x2="860" y1="116.9766" y2="585.0137"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="8" y="114.0234">Head Node</text><ellipse cx="48.5" cy="43.4883" fill="#FEFECE" filter="url(#fl5odj87cajg1)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M48.5,51.4883 L48.5,78.4883 M35.5,59.4883 L61.5,59.4883 M48.5,78.4883 L35.5,93.4883 M48.5,78.4883 L61.5,93.4883 " fill="#FEFECE" filter="url(#fl5odj87cajg1)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="8" y="597.5488">Head Node</text><ellipse cx="48.5" cy="610.502" fill="#FEFECE" filter="url(#fl5odj87cajg1)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M48.5,618.502 L48.5,645.502 M35.5,626.502 L61.5,626.502 M48.5,645.502 L35.5,660.502 M48.5,645.502 L61.5,660.502 " fill="#FEFECE" filter="url(#fl5odj87cajg1)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="295" y="114.0234">Worker</text><ellipse cx="322.5" cy="43.4883" fill="#FEFECE" filter="url(#fl5odj87cajg1)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M322.5,51.4883 L322.5,78.4883 M309.5,59.4883 L335.5,59.4883 M322.5,78.4883 L309.5,93.4883 M322.5,78.4883 L335.5,93.4883 " fill="#FEFECE" filter="url(#fl5odj87cajg1)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="295" y="597.5488">Worker</text><ellipse cx="322.5" cy="610.502" fill="#FEFECE" filter="url(#fl5odj87cajg1)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M322.5,618.502 L322.5,645.502 M309.5,626.502 L335.5,626.502 M322.5,645.502 L309.5,660.502 M322.5,645.502 L335.5,660.502 " fill="#FEFECE" filter="url(#fl5odj87cajg1)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fl5odj87cajg1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="515.5" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="522.5" y="102.0234">Datacube</text><rect fill="#FEFECE" filter="url(#fl5odj87cajg1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="515.5" y="584.0137"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="522.5" y="604.5488">Datacube</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="733" y="114.0234">Index</text><path d="M737.5,64.4883 C737.5,54.4883 755.5,54.4883 755.5,54.4883 C755.5,54.4883 773.5,54.4883 773.5,64.4883 L773.5,90.4883 C773.5,100.4883 755.5,100.4883 755.5,100.4883 C755.5,100.4883 737.5,100.4883 737.5,90.4883 L737.5,64.4883 " fill="#FEFECE" filter="url(#fl5odj87cajg1)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M737.5,64.4883 C737.5,74.4883 755.5,74.4883 755.5,74.4883 C755.5,74.4883 773.5,74.4883 773.5,64.4883 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="733" y="597.5488">Index</text><path d="M737.5,610.502 C737.5,600.502 755.5,600.502 755.5,600.502 C755.5,600.502 773.5,600.502 773.5,610.502 L773.5,636.502 C773.5,646.502 755.5,646.502 755.5,646.502 C755.5,646.502 737.5,646.502 737.5,636.502 L737.5,610.502 " fill="#FEFECE" filter="url(#fl5odj87cajg1)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M737.5,610.502 C737.5,620.502 755.5,620.502 755.5,620.502 C755.5,620.502 773.5,620.502 773.5,610.502 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fl5odj87cajg1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="792" y="77.4883"/><rect fill="#FEFECE" filter="url(#fl5odj87cajg1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="788" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="795" y="102.0234">Disk/S3/HTTP/etc</text><rect fill="#FEFECE" filter="url(#fl5odj87cajg1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="792" y="584.0137"/><rect fill="#FEFECE" filter="url(#fl5odj87cajg1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="788" y="588.0137"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="795" y="608.5488">Disk/S3/HTTP/etc</text><rect fill="#EEEEEE" filter="url(#fl5odj87cajg1)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="935" x="3" y="147.6318"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="938" y1="147.6318" y2="147.6318"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="938" y1="150.6318" y2="150.6318"/><rect fill="#EEEEEE" filter="url(#fl5odj87cajg1)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="116" x="412.5" y="136.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="98" x="418.5" y="153.5449">On Head Node</text><polygon fill="#A80036" points="544.5,187.2871,554.5,191.2871,544.5,195.2871,548.5,191.2871" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="48.5" x2="550.5" y1="191.2871" y2="191.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="55.5" y="186.8555">Request a region of data</text><polygon fill="#A80036" points="743.5,216.5977,753.5,220.5977,743.5,224.5977,747.5,220.5977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="556.5" x2="749.5" y1="220.5977" y2="220.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="563.5" y="216.166">Query for available datasets</text><polygon fill="#A80036" points="567.5,245.9082,557.5,249.9082,567.5,253.9082,563.5,249.9082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="561.5" x2="754.5" y1="249.9082" y2="249.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="573.5" y="245.4766">list of datasets</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="556.5" x2="598.5" y1="279.5293" y2="279.5293"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="598.5" x2="598.5" y1="279.5293" y2="292.5293"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="557.5" x2="598.5" y1="292.5293" y2="292.5293"/><polygon fill="#A80036" points="567.5,288.5293,557.5,292.5293,567.5,296.5293,563.5,292.5293" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="563.5" y="274.7871">turn into</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="71" x="622.5" y="274.7871">Loadable(s)</text><polygon fill="#A80036" points="59.5,317.5293,49.5,321.5293,59.5,325.5293,55.5,321.5293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="53.5" x2="555.5" y1="321.5293" y2="321.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="65.5" y="317.0977">Return a serialisable list of Loadables</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="48.5" x2="90.5" y1="351.1504" y2="351.1504"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="90.5" x2="90.5" y1="351.1504" y2="364.1504"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="49.5" x2="90.5" y1="364.1504" y2="364.1504"/><polygon fill="#A80036" points="59.5,360.1504,49.5,364.1504,59.5,368.1504,55.5,364.1504" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="260" x="55.5" y="346.4082">Save to disk/serialise and send to worker</text><rect fill="#EEEEEE" filter="url(#fl5odj87cajg1)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="935" x="3" y="392.8057"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="938" y1="392.8057" y2="392.8057"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="938" y1="395.8057" y2="395.8057"/><rect fill="#EEEEEE" filter="url(#fl5odj87cajg1)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="136" x="402.5" y="382.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="408.5" y="398.7188">On Worker Nodes</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="322.5" x2="364.5" y1="436.7715" y2="436.7715"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="364.5" x2="364.5" y1="436.7715" y2="449.7715"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="323.5" x2="364.5" y1="449.7715" y2="449.7715"/><polygon fill="#A80036" points="333.5,445.7715,323.5,449.7715,333.5,453.7715,329.5,449.7715" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="329.5" y="432.0293">Read Loadables from disk/network</text><polygon fill="#A80036" points="544.5,474.7715,554.5,478.7715,544.5,482.7715,548.5,478.7715" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="322.5" x2="550.5" y1="478.7715" y2="478.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="329.5" y="474.3398">Here is a Loadable, give me Data</text><polygon fill="#A80036" points="848.5,504.082,858.5,508.082,848.5,512.082,852.5,508.082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="556.5" x2="854.5" y1="508.082" y2="508.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="563.5" y="503.6504">Load data from disk/s3/http/etc</text><polygon fill="#A80036" points="567.5,533.3926,557.5,537.3926,567.5,541.3926,563.5,537.3926" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="561.5" x2="859.5" y1="537.3926" y2="537.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="573.5" y="532.9609">data loaded into memory</text><polygon fill="#A80036" points="333.5,562.7031,323.5,566.7031,333.5,570.7031,329.5,566.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="327.5" x2="555.5" y1="566.7031" y2="566.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="339.5" y="562.2715">Return an in memory array</text><!--
@startuml
title NCI Compute Job

== On Head Node ==
actor "Head Node" as User
actor Worker
participant Datacube
database Index
collections "Disk/S3/HTTP/etc" as Storage

User -> Datacube: Request a region of data
Datacube -> Index : Query for available datasets

Index - -> Datacube : list of datasets

Datacube -> Datacube : turn into //Loadable(s)//
Datacube - -> User : Return a serialisable list of Loadables

User - -> User : Save to disk/serialise and send to worker

== On Worker Nodes ==

Worker - -> Worker : Read Loadables from disk/network
Worker -> Datacube : Here is a Loadable, give me Data

Datacube -> Storage : Load data from disk/s3/http/etc
Storage - -> Datacube : data loaded into memory
Datacube - -> Worker : Return an in memory array


@enduml

PlantUML version 1.2017.18(Sat Oct 07 03:56:32 AEDT 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_152-b16
Operating System: Mac OS X
OS Version: 10.13.2
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>